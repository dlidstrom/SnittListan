{"version":1,"ops":[{"type":1,"author":{"id":"06c30857e1aae540fbdaaf3d11238d49dac069ac"},"timestamp":1372790991,"metadata":{"github-id":"MDU6SXNzdWUxNjI4MDcxNQ==","github-url":"https://github.com/dlidstrom/Snittlistan/issues/219","origin":"github"},"title":"ELMAH MVC 2.0.2 - Error 404 (Resource not found) on Production/Test Servers","message":"I'm sure this question has been asked many times but believe me I've tried every possible solution.\n\nScenario : I am using ELMAH MVC 2.0.2 in my MVC3 project and everything works perfect on my local machine. When I deploy the code on Prod/Test Servers I get the dreaded '404 Resource not found' error message. I have tried adding the relevant code to the tags but that didn't work. I was using XMLLogging on my local machine and thought it might be a folder permission issue so tried my luck using Memory logging but had no luck.\n\nCode :\n\nWeb.Config\n\n```\n\u003cconfiguration\u003e\n  \u003cconfigSections\u003e\n    \u003csectionGroup name=\"elmah\"\u003e\n      \u003csection name=\"security\" requirePermission=\"false\" type=\"Elmah.SecuritySectionHandler, Elmah\" /\u003e\n      \u003csection name=\"errorLog\" requirePermission=\"false\" type=\"Elmah.ErrorLogSectionHandler, Elmah\" /\u003e\n      \u003csection name=\"errorFilter\" requirePermission=\"false\" type=\"Elmah.ErrorFilterSectionHandler, Elmah\" /\u003e\n    \u003c/sectionGroup\u003e\n  \u003c/configSections\u003e\n\n  \u003cappSettings\u003e\n      \u003cadd key=\"elmah.mvc.disableHandler\" value=\"false\" /\u003e\n      \u003cadd key=\"elmah.mvc.disableHandleErrorFilter\" value=\"false\" /\u003e\n      \u003cadd key=\"elmah.mvc.requiresAuthentication\" value=\"false\" /\u003e\n      \u003cadd key=\"elmah.mvc.allowedRoles\" value=\"*\" /\u003e\n      \u003cadd key=\"elmah.mvc.route\" value=\"elmah\" /\u003e\n  \u003c/appSettings\u003e\n\n  \u003csystem.web\u003e\n    \u003chttpModules\u003e\n      \u003cadd name=\"ErrorLog\" type=\"Elmah.ErrorLogModule, Elmah\" /\u003e\n      \u003cadd name=\"ErrorFilter\" type=\"Elmah.ErrorFilterModule, Elmah\" /\u003e\n    \u003c/httpModules\u003e\n    \u003chttpHandlers\u003e\n      \u003cadd verb=\"POST,GET,HEAD\" path=\"elmah.axd\" type=\"Elmah.ErrorLogPageFactory, Elmah\" /\u003e\n    \u003c/httpHandlers\u003e\n  \u003c/system.web\u003e\n\n  \u003csystem.webServer\u003e\n    \u003cvalidation validateIntegratedModeConfiguration=\"false\" /\u003e\n    \u003cmodules runAllManagedModulesForAllRequests=\"true\"\u003e\n      \u003cadd name=\"ErrorLog\" type=\"Elmah.ErrorLogModule, Elmah\" preCondition=\"managedHandler\" /\u003e\n      \u003cadd name=\"ErrorFilter\" type=\"Elmah.ErrorFilterModule, Elmah\" preCondition=\"managedHandler\" /\u003e\n    \u003c/modules\u003e\n    \u003chandlers\u003e\n      \u003cadd name=\"Elmah\" path=\"elmah.axd\" verb=\"POST,GET,HEAD\" type=\"Elmah.ErrorLogPageFactory, Elmah\" preCondition=\"integratedMode\" /\u003e\n    \u003c/handlers\u003e\n  \u003c/system.webServer\u003e\n\n  \u003celmah\u003e\n    \u003cerrorLog type=\"Elmah.MemoryErrorLog, Elmah\" size=\"50\" /\u003e\n    \u003c!--\u003cerrorLog type=\"Elmah.XMLFileErrorLog, Elmah\" logPath=\"D:\\\\ELMAH\" /\u003e--\u003e\n  \u003c/elmah\u003e\n\u003c/configuration\u003e\n```\n\nGlobal.asax.cs\n\n```\nnamespace abc\n{\n    public class MvcApplication : System.Web.HttpApplication\n    {\n        public static void RegisterGlobalFilters(GlobalFilterCollection filters)\n        {\n            filters.Add(new ElmahHandledErrorLoggerFilter());\n            filters.Add(new HandleErrorAttribute());\n        }\n\n    public static void RegisterRoutes(RouteCollection routes)\n    {\n        string actionMethod = System.Web.Configuration.WebConfigurationManager.AppSettings.Get(\"actionpage\");\n        routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n        //routes.IgnoreRoute(\"elmah.axd/{*pathInfo}\");\n\n        routes.MapRoute(\n        \"Default\", // Route name\n        \"{controller}/{action}/{id}\", // URL with parameters\n        new { controller = \"abc\", action = actionMethod, id = UrlParameter.Optional } // Parameter defaults\n    );\n    }\n\n    protected void Application_Start()\n    {\n        AreaRegistration.RegisterAllAreas();\n        Telerik.Web.Mvc.WebAssetDefaultSettings.ScriptFilesPath = @\"~/Scripts/2011.1.315/\";\n\n        RegisterGlobalFilters(GlobalFilters.Filters);\n        RegisterRoutes(RouteTable.Routes);\n      }\n    }\n}\n```\n\nI have also tried to configure Handler Mappings and Modules in IIS Manager but that didn't work either. I am not sure if I need to make any changes to the applicationhost.config file.\nI have site minder installed on IIS7 on Test/Prod server and the site is protected. Is there a chance that's causing a problem? Any help will be appreciated.\n\nThanks","files":null}]}